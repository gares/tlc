############################################################################
# Usage
#
# make -j all
# make install
# make clean
# make uninstall

############################################################################
# Configuration

# Optional configuration file for setting, e.g., COQBIN. (Use /home/foo, not ~/).
-include settings.sh

ifneq (,$(COQBIN))
COQBIN:=$(COQBIN)/
endif

export COQBIN

# The desired warnings are set in _CoqProject.

############################################################################
# Compilation using the Makefile generated by coq_makefile.

-include Makefile.generated

Makefile.generated:
	@ $(COQBIN)coq_makefile -f _CoqProject -o $@

############################################################################
# Clean rules

.PHONY: clean

clean::
	@ rm -f Makefile.generated Makefile.generated.conf
	@ rm -rf .lia.cache
	@ rm -rf *.v.d .*.aux
